services:
  hue-gateway:
    build: .
    labels:
      com.rrk.project: "hue-gateway"
    environment:
      PORT: "8000"
      # Required to use /v1/* and /v2/* endpoints:
      GATEWAY_AUTH_TOKENS: "dev-token"
      GATEWAY_API_KEYS: "dev-key"
      HUE_BRIDGE_HOST: "192.168.1.29"
      # Bridge config is optional until pairing/usage:
      # HUE_BRIDGE_HOST: "192.168.1.29"
      # HUE_APPLICATION_KEY: "..."
    networks:
      default: {}
      remcochat_default:
        aliases:
          - hue-gateway
      remcochat-sandbox-net:
        aliases:
          - hue-gateway
    ports:
      - "8000:8000"
    volumes:
      - hue_gateway_data:/data

  api-docs:
    image: nginx:alpine
    depends_on:
      - hue-gateway
    ports:
      - "8081:80"
    volumes:
      - ./docs:/usr/share/nginx/html:ro

volumes:
  hue_gateway_data:

networks:
  remcochat_default:
    external: true
    name: remcochat_default
  remcochat-sandbox-net:
    external: true
    name: remcochat-sandbox-net
